# –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ —Å–∏—Å—Ç–µ–º—ã –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ 3D-–ø–µ—á–∞—Ç–∏

## üìä –ê–Ω–∞–ª–∏–∑ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –∏–∑ TODO.md

### –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã:
- **–ú—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω—ã–π –≤–≤–æ–¥**: —Ç–µ–∫—Å—Ç + –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–µ—Ñ–µ–∫—Ç–æ–≤
- **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞**: –º–Ω–æ–≥–æ—à–∞–≥–æ–≤—ã–π –¥–∏–∞–ª–æ–≥ —Å —É—Ç–æ—á–Ω—è—é—â–∏–º–∏ –≤–æ–ø—Ä–æ—Å–∞–º–∏
- **–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–∏—Å–∫**: –ø–æ —Å–∏–º–ø—Ç–æ–º–∞–º, –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—é, –º–∞—Ç–µ—Ä–∏–∞–ª—É, —ç—Ç–∞–ø—É –ø–µ—á–∞—Ç–∏
- **–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è**: RAG —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏ –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞
- **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∞–ª–æ–≥**: –∏—Ç–µ—Ä–∞—Ç–∏–≤–Ω–æ–µ —É—Ç–æ—á–Ω–µ–Ω–∏–µ –ø—Ä–∏ –Ω–µ—É–¥–∞—á–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏—è—Ö

---

## 1. üóÑÔ∏è –î–≤–∏–∂–æ–∫ –¥–ª—è –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π: Vector vs Graph

### **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥ (Vector DB + –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ)**

#### –ü–æ—á–µ–º—É Vector DB (–æ—Å–Ω–æ–≤–Ω–æ–π):
‚úÖ **–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫** ‚Äî –∫–ª—é—á–µ–≤–æ–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ –¥–ª—è RAG
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –æ–ø–∏—Å—ã–≤–∞—é—Ç –ø—Ä–æ–±–ª–µ–º—ã —Ä–∞–∑–Ω—ã–º–∏ —Å–ª–æ–≤–∞–º–∏ ("–æ—Ç—Å–ª–∞–∏–≤–∞–µ—Ç—Å—è", "–Ω–µ –¥–µ—Ä–∂–∏—Ç—Å—è", "–æ—Ç—Ö–æ–¥–∏—Ç")
- –í–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ –Ω–∞—Ö–æ–¥–∏—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —Å—Ç–∞—Ç—å–∏ –ø–æ —Å–º—ã—Å–ª—É, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º

‚úÖ **–ú—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω–æ—Å—Ç—å** ‚Äî –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ–∏—Å–∫–∞ –ø–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º
- –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –≤–µ–∫—Ç–æ—Ä–Ω—ã–µ –ë–î (Qdrant, Weaviate) –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –º—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω—ã–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–∏
- –ú–æ–∂–Ω–æ –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞—Ç—å –æ–ø–∏—Å–∞–Ω–∏—è –¥–µ—Ñ–µ–∫—Ç–æ–≤ –∏–∑ –∞–Ω–∞–ª–∏–∑–∞ —Ñ–æ—Ç–æ

‚úÖ **–ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–∏—Å–∫** ‚Äî –∫–æ–º–±–∏–Ω–∞—Ü–∏—è —Å–µ–º–∞–Ω—Ç–∏–∫–∏ + –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
- –í–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ —Å–º—ã—Å–ª—É + —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º
- –≠—Ç–æ –ø–æ–∫—Ä—ã–≤–∞–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ: `(—Å–∏–º–ø—Ç–æ–º + –ø—Ä–∏–Ω—Ç–µ—Ä + –º–∞—Ç–µ—Ä–∏–∞–ª + –ø–∞—Ä–∞–º–µ—Ç—Ä—ã) ‚Üí —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã`

#### –ü–æ—á–µ–º—É –ù–ï Graph DB (–∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–æ–π):
‚ùå **–°–ª–æ–∂–Ω–æ—Å—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–∏—è** ‚Äî –ø—Ä–æ–±–ª–µ–º—ã 3D-–ø–µ—á–∞—Ç–∏ –Ω–µ –∏–º–µ—é—Ç –∂—ë—Å—Ç–∫–æ–π –∏–µ—Ä–∞—Ä—Ö–∏–∏
- –û–¥–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–æ –ø—Ä–∏—á–∏–Ω –∏ —Ä–µ—à–µ–Ω–∏–π
- –ì—Ä–∞—Ñ –±—É–¥–µ—Ç –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω —Å–≤—è–∑—è–º–∏ –∏ —Å–ª–æ–∂–µ–Ω –≤ –ø–æ–¥–¥–µ—Ä–∂–∫–µ

‚ùå **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫** ‚Äî –≥—Ä–∞—Ñ—ã –ø–ª–æ—Ö–æ —Ä–∞–±–æ—Ç–∞—é—Ç —Å –Ω–µ—á—ë—Ç–∫–∏–º–∏ –∑–∞–ø—Ä–æ—Å–∞–º–∏
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: "–≤—Å—ë –≤ –Ω–∏—Ç–æ—á–∫–∞—Ö" ‚Üí –Ω—É–∂–Ω–æ –Ω–∞–π—Ç–∏ "stringing"
- –í–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ —Å–ø—Ä–∞–≤–∏—Ç—Å—è –ª—É—á—à–µ

#### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ KB:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Vector DB (Qdrant/Weaviate/Chroma)    ‚îÇ
‚îÇ  - –≠–º–±–µ–¥–¥–∏–Ω–≥–∏ —Å—Ç–∞—Ç–µ–π/—Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤         ‚îÇ
‚îÇ  - –ú—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω—ã–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–∏ (—Ç–µ–∫—Å—Ç+  ‚îÇ
‚îÇ    –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è)                         ‚îÇ
‚îÇ                                         ‚îÇ
‚îÇ  –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (–≤ payload –≤–µ–∫—Ç–æ—Ä–æ–≤):      ‚îÇ
‚îÇ  - problem_type: "stringing"            ‚îÇ
‚îÇ  - printer_model: "Ender-3"            ‚îÇ
‚îÇ  - material: "PLA"                     ‚îÇ
‚îÇ  - print_stage: "first_layer"          ‚îÇ
‚îÇ  - source_url: "..."                   ‚îÇ
‚îÇ  - article_category: "–¢–µ—Ö–Ω–∏—á–∫–∞"        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
- **Qdrant** –∏–ª–∏ **Weaviate** (–ª—É—á—à–µ Qdrant –¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã)
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º
  - –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–∏—Å–∫ (–≤–µ–∫—Ç–æ—Ä + –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞)
  - –•–æ—Ä–æ—à–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
  - –ü—Ä–æ—Å—Ç–æ–π API –¥–ª—è FastAPI

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ (–µ—Å–ª–∏ –Ω—É–∂–Ω–∞ –ø—Ä–æ—Å—Ç–æ—Ç–∞):**
- **Chroma** ‚Äî –ø—Ä–æ—â–µ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ, –Ω–æ –º–µ–Ω–µ–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞
- **Pinecone** ‚Äî –µ—Å–ª–∏ –Ω—É–∂–µ–Ω managed —Å–µ—Ä–≤–∏—Å (–ø–ª–∞—Ç–Ω–æ)

#### ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–æ–¥—Ö–æ–¥–æ–≤ –∏–∑ –ø—Ä–æ–µ–∫—Ç–∞ ai_report:

**–ê–Ω–∞–ª–∏–∑ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã KB –≤ `../ai_report`:**
- –ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **Qdrant** —Å –ø–ª–æ—Å–∫–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π (–±–µ–∑ –≥—Ä–∞—Ñ–∞)
- **3 —Ç–∏–ø–∞ –¥–∞–Ω–Ω—ã—Ö**: DDL, Documentation, Q/A Examples
- **JSON —Ñ–æ—Ä–º–∞—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö** —Å —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –ø–æ–ª—è–º–∏
- **–ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–∏—Å–∫**: –≤–µ–∫—Ç–æ—Ä–Ω—ã–π + —Ñ–∏–ª—å—Ç—Ä—ã –ø–æ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º –≤ payload

**–ê–¥–∞–ø—Ç–∞—Ü–∏—è –¥–ª—è 3dtoday:**
- ‚úÖ **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ KB**: 3 —Ç–∏–ø–∞ –¥–∞–Ω–Ω—ã—Ö (Article Structure, Article Content, Diagnostic Examples)
- ‚úÖ **JSON –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ**: –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥ –¥–æ–º–µ–Ω 3D-–ø–µ—á–∞—Ç–∏ (`problem_type`, `printer_models`, `materials`)
- ‚úÖ **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Qdrant**: –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–¥—Ö–æ–¥ —Å payload –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏
- ‚úÖ **–ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**: –º–µ—Ç—Ä–∏–∫–∏ Accuracy, Top-k Hit Rate, MRR

**–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏:** —Å–º. `KB_ARCHITECTURE_COMPARISON.md`

---

## 2. ü§ñ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–≥–µ–Ω—Ç–æ–≤

### **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: 3 —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∞–≥–µ–Ω—Ç–∞ + 1 –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä**

#### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∞–≥–µ–Ω—Ç–æ–≤:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Orchestrator Agent (–≥–ª–∞–≤–Ω—ã–π –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä)   ‚îÇ
‚îÇ  - –£–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ—Ç–æ–∫–æ–º –¥–∏–∞–ª–æ–≥–∞                ‚îÇ
‚îÇ  - –†–µ—à–∞–µ—Ç, –∫–∞–∫–æ–π –∞–≥–µ–Ω—Ç –≤—ã–∑–≤–∞—Ç—å              ‚îÇ
‚îÇ  - –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç —Å–µ—Å—Å–∏–∏             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           ‚îÇ
           ‚îú‚îÄ‚îÄ‚îÄ‚ñ∫ Vision Agent (–∞–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π)
           ‚îÇ     - –†–∞—Å–ø–æ–∑–Ω–∞—ë—Ç –¥–µ—Ñ–µ–∫—Ç—ã –Ω–∞ —Ñ–æ—Ç–æ
           ‚îÇ     - –ò–∑–≤–ª–µ–∫–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏
           ‚îÇ     - –ú–æ–¥–µ–ª—å: llava —á–µ—Ä–µ–∑ Ollama
           ‚îÇ
           ‚îú‚îÄ‚îÄ‚îÄ‚ñ∫ Diagnostic Agent (–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞)
           ‚îÇ     - –§–æ—Ä–º—É–ª–∏—Ä—É–µ—Ç —É—Ç–æ—á–Ω—è—é—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã
           ‚îÇ     - –ö–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –ø—Ä–æ–±–ª–µ–º—É
           ‚îÇ     - –í–µ–¥—ë—Ç –¥–∏–∞–ª–æ–≥
           ‚îÇ     - –ú–æ–¥–µ–ª—å: Llama 3.1/4 –∏–ª–∏ Gemini
           ‚îÇ
           ‚îî‚îÄ‚îÄ‚îÄ‚ñ∫ Retrieval Agent (RAG)
                 - –ü–æ–∏—Å–∫ –≤ –≤–µ–∫—Ç–æ—Ä–Ω–æ–π –ë–î
                 - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º
                 - –°–∏–Ω—Ç–µ–∑ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
```

#### –î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ:

**1. Orchestrator Agent** (1 –∞–≥–µ–Ω—Ç)
- **–†–æ–ª—å**: –ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è –≤—Å–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞
- **–§—É–Ω–∫—Ü–∏–∏**:
  - –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–∏–ø –≤–≤–æ–¥–∞ (—Ç–µ–∫—Å—Ç/–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ/–∫–æ–º–±–æ)
  - –í—ã–∑—ã–≤–∞–µ—Ç Vision Agent –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ —Ñ–æ—Ç–æ
  - –£–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –¥–∏–∞–ª–æ–≥–∞ (—à–∞–≥ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏)
  - –†–µ—à–∞–µ—Ç, –∫–æ–≥–¥–∞ –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
  - –§–æ—Ä–º–∏—Ä—É–µ—Ç —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

**2. Vision Agent** (1 –∞–≥–µ–Ω—Ç)
- **–†–æ–ª—å**: –ê–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –¥–µ—Ñ–µ–∫—Ç–æ–≤
- **–ú–æ–¥–µ–ª—å**: llava —á–µ—Ä–µ–∑ Ollama (–ª–æ–∫–∞–ª—å–Ω–æ)
- **–§—É–Ω–∫—Ü–∏–∏**:
  - –†–∞—Å–ø–æ–∑–Ω–∞—ë—Ç —Ç–∏–ø –¥–µ—Ñ–µ–∫—Ç–∞ (stringing, warping, layer separation –∏ —Ç.–¥.)
  - –ò–∑–≤–ª–µ–∫–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏
  - –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è RAG
- **Fallback**: Gemini 2.5/3 –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤

**3. Diagnostic Agent** (1 –∞–≥–µ–Ω—Ç)
- **–†–æ–ª—å**: –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
- **–ú–æ–¥–µ–ª—å**: Llama 3.1 70B –∏–ª–∏ Gemini (–¥–ª—è –∫–∞—á–µ—Å—Ç–≤–∞ –¥–∏–∞–ª–æ–≥–∞)
- **–§—É–Ω–∫—Ü–∏–∏**:
  - –§–æ—Ä–º—É–ª–∏—Ä—É–µ—Ç —É—Ç–æ—á–Ω—è—é—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–∏–º–ø—Ç–æ–º–æ–≤
  - –ö–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –ø—Ä–æ–±–ª–µ–º—É –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
  - –ê–¥–∞–ø—Ç–∏—Ä—É–µ—Ç –≤–æ–ø—Ä–æ—Å—ã –ø–æ–¥ –∫–æ–Ω—Ç–µ–∫—Å—Ç (–ø—Ä–∏–Ω—Ç–µ—Ä, –º–∞—Ç–µ—Ä–∏–∞–ª)
  - –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø–æ–Ω—è—Ç–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏

**4. Retrieval Agent** (1 –∞–≥–µ–Ω—Ç)
- **–†–æ–ª—å**: –ü–æ–∏—Å–∫ –∏ —Å–∏–Ω—Ç–µ–∑ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏–∑ KB
- **–§—É–Ω–∫—Ü–∏–∏**:
  - –§–æ—Ä–º–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –∫ –≤–µ–∫—Ç–æ—Ä–Ω–æ–π –ë–î —Å —É—á—ë—Ç–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
  - –ü—Ä–∏–º–µ–Ω—è–µ—Ç —Ñ–∏–ª—å—Ç—Ä—ã –ø–æ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º
  - –°–∏–Ω—Ç–µ–∑–∏—Ä—É–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
  - –ò–∑–≤–ª–µ–∫–∞–µ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

#### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç (—É–ø—Ä–æ—â—ë–Ω–Ω—ã–π):
**2 –∞–≥–µ–Ω—Ç–∞:**
- **Main Agent** (–æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä + –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ + —Å–∏–Ω—Ç–µ–∑)
- **Vision Agent** (–∞–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π)

**–ü–ª—é—Å—ã**: –ø—Ä–æ—â–µ –≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
**–ú–∏–Ω—É—Å—ã**: –º–µ–Ω–µ–µ –º–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, —Å–ª–æ–∂–Ω–µ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å

**–ò—Ç–æ–≥–æ–≤–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: 3 –∞–≥–µ–Ω—Ç–∞** (–±–µ–∑ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–∞, –µ–≥–æ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ Diagnostic Agent)

---

## 3. üñ•Ô∏è –¢–∏–ø –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

### **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: –í–µ–±-—á–∞—Ç (Streamlit/Gradio) + Telegram Bot (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)**

#### –í–∞—Ä–∏–∞–Ω—Ç 1: –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–æ—Å–Ω–æ–≤–Ω–æ–π) ‚≠ê

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:**
- **Streamlit** –∏–ª–∏ **Gradio** ‚Äî –±—ã—Å—Ç—Ä–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞, –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- **React + FastAPI** ‚Äî –µ—Å–ª–∏ –Ω—É–∂–µ–Ω –±–æ–ª–µ–µ –∫–∞—Å—Ç–æ–º–Ω—ã–π UI

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
‚úÖ –ü—Ä–æ—Å—Ç–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (drag & drop)
‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –¥–∏–∞–ª–æ–≥–∞
‚úÖ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–∫–∞–∑–∞—Ç—å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ (–¥–∏–∞–≥—Ä–∞–º–º—ã, —á–µ–∫-–ª–∏—Å—Ç—ã)
‚úÖ –õ–µ–≥–∫–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å FastAPI backend

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: Streamlit**
- –ë—ã—Å—Ç—Ä—ã–π –ø—Ä–æ—Ç–æ—Ç–∏–ø
- –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —á–∞—Ç–∞ –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –õ–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è—Ç—å

#### –í–∞—Ä–∏–∞–Ω—Ç 2: Telegram Bot (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π)

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
‚úÖ –£–¥–æ–±—Å—Ç–≤–æ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–Ω–µ –Ω—É–∂–Ω–æ –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –±—Ä–∞—É–∑–µ—Ä)
‚úÖ –ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–æ—Ç–æ
‚úÖ –ú–æ–±–∏–ª—å–Ω—ã–π –¥–æ—Å—Ç—É–ø

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
‚ùå –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ UI
‚ùå –°–ª–æ–∂–Ω–µ–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ù–∞—á–∞—Ç—å —Å –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞, –¥–æ–±–∞–≤–∏—Ç—å Telegram –ø–æ–∑–∂–µ

#### –ò—Ç–æ–≥–æ–≤–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:
**–í–µ–±-—á–∞—Ç –Ω–∞ Streamlit** (MVP) ‚Üí **React SPA** (production)

---

## 4. üõ†Ô∏è –ü—Ä–∏–º–µ–Ω—è–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

### **Backend: FastAPI** ‚úÖ

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

```python
# –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
- FastAPI (–æ—Å–Ω–æ–≤–Ω–æ–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫)
- Pydantic (–≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö)
- httpx (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ HTTP-–∑–∞–ø—Ä–æ—Å—ã –∫ Ollama/Gemini)
- python-multipart (–∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤)
- aiofiles (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏)
```

#### –ü–æ–ª–Ω—ã–π —Å—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π:

**Backend:**
- **FastAPI** ‚Äî REST API, WebSocket –¥–ª—è real-time —á–∞—Ç–∞
- **Uvicorn** ‚Äî ASGI —Å–µ—Ä–≤–µ—Ä
- **SQLite/PostgreSQL** ‚Äî —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –¥–∏–∞–ª–æ–≥–æ–≤, —Å–µ—Å—Å–∏–π
- **Redis** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) ‚Äî –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏

**–ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π:**
- **Qdrant** ‚Äî –≤–µ–∫—Ç–æ—Ä–Ω–∞—è –ë–î (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- **LangChain** –∏–ª–∏ **LlamaIndex** ‚Äî –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è RAG pipeline
- **Sentence Transformers** ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ (rubert-base –∏–ª–∏ multilingual)

**–§–æ—Ä–º–∞—Ç—ã –¥–∞–Ω–Ω—ã—Ö KB (–Ω–∞ –æ—Å–Ω–æ–≤–µ ai_report):**
- **JSON –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ** –¥–ª—è —Å—Ç–∞—Ç–µ–π (–∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏–∑ `kb_billing/tables/*.json`)
- **3 —Ç–∏–ø–∞ –¥–∞–Ω–Ω—ã—Ö**: Article Structure, Article Content, Diagnostic Examples
- **–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –≤ payload**: `problem_type`, `printer_models`, `materials`, `print_stage`, `symptoms`
- **–°–≤—è–∑–∏**: —á–µ—Ä–µ–∑ `related_articles` –≤ payload (–∞–Ω–∞–ª–æ–≥ `relationships` –∏–∑ ai_report)

**–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ –∏–∑ sql4A:**
- ‚úÖ **FastAPI —Å—Ç—Ä—É–∫—Ç—É—Ä–∞** - –º–æ–∂–Ω–æ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ~90% (`src/api/main.py`)
- ‚úÖ **RAG pipeline** - –º–æ–∂–Ω–æ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ~70% (`src/services/query_service.py`)
- ‚úÖ **–†–∞–±–æ—Ç–∞ —Å –≤–µ–∫—Ç–æ—Ä–Ω–æ–π –ë–î** - –º–æ–∂–Ω–æ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ~60% (–∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥ Qdrant)
- ‚ö†Ô∏è **–î–æ–º–µ–Ω-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–∞—è –ª–æ–≥–∏–∫–∞** - —Ç—Ä–µ–±—É–µ—Ç –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ (SQL ‚Üí –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞)
- **–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏:** —Å–º. `SQL4A_REUSE_ANALYSIS.md`

**ML/AI –º–æ–¥–µ–ª–∏:**
- **Ollama** ‚Äî –ª–æ–∫–∞–ª—å–Ω—ã–µ –º–æ–¥–µ–ª–∏:
  - `llava` ‚Äî –∞–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
  - `llama3.1:70b` –∏–ª–∏ `mistral` ‚Äî –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ –¥–∏–∞–ª–æ–≥
- **Google Gemini API** ‚Äî fallback –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤
- **Pillow** ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

**Frontend:**
- **Streamlit** (MVP) –∏–ª–∏ **React + TypeScript** (production)
- **WebSocket** ‚Äî –¥–ª—è real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π —á–∞—Ç–∞

**–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞:**
- **Docker** ‚Äî –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
- **Docker Compose** ‚Äî –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è (FastAPI + Qdrant + Ollama)
- **Nginx** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) ‚Äî reverse proxy

#### –ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞:

```
3dtoday/
‚îú‚îÄ‚îÄ backend/
‚îÇ   ‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ main.py              # FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ agents/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ orchestrator.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ vision.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ diagnostic.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ retrieval.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ rag.py           # RAG pipeline
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ vector_db.py     # –†–∞–±–æ—Ç–∞ —Å Qdrant
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ollama_client.py # –ö–ª–∏–µ–Ω—Ç –¥–ª—è Ollama
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ schemas.py       # Pydantic –º–æ–¥–µ–ª–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ utils/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ image_processing.py
‚îÇ   ‚îú‚îÄ‚îÄ requirements.txt
‚îÇ   ‚îî‚îÄ‚îÄ Dockerfile
‚îú‚îÄ‚îÄ frontend/
‚îÇ   ‚îî‚îÄ‚îÄ streamlit_app.py         # –∏–ª–∏ React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îú‚îÄ‚îÄ knowledge_base/
‚îÇ   ‚îú‚îÄ‚îÄ scrapers/                # –°–∫—Ä–∞–ø–µ—Ä—ã –¥–ª—è 3dtoday.ru
‚îÇ   ‚îú‚îÄ‚îÄ processors/              # –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ data/                    # –ò—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
‚îú‚îÄ‚îÄ docker-compose.yml
‚îî‚îÄ‚îÄ README.md
```

---

## üìã –ò—Ç–æ–≥–æ–≤—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ (–∫—Ä–∞—Ç–∫–æ)

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è | –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ |
|-----------|--------------|--------------|
| **KB Engine** | **Qdrant (Vector DB)** —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏ | Weaviate, Chroma |
| **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–≥–µ–Ω—Ç–æ–≤** | **3 –∞–≥–µ–Ω—Ç–∞**: Vision, Diagnostic, Retrieval | 2 –∞–≥–µ–Ω—Ç–∞ (—É–ø—Ä–æ—â—ë–Ω–Ω–æ) |
| **–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å** | **Streamlit –≤–µ–±-—á–∞—Ç** | React SPA, Telegram Bot |
| **Backend** | **FastAPI** | Flask (–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) |
| **–í–µ–∫—Ç–æ—Ä–Ω–∞—è –ë–î** | **Qdrant** | Weaviate, Pinecone |
| **RAG Framework** | **LangChain** | LlamaIndex |
| **Vision Model** | **llava (Ollama)** | Gemini Vision API |
| **LLM –¥–ª—è –¥–∏–∞–ª–æ–≥–∞** | **Llama 3.1 70B (Ollama)** | Gemini 2.5/3 |
| **–≠–º–±–µ–¥–¥–∏–Ω–≥–∏** | **rubert-base** –∏–ª–∏ **multilingual-e5** | OpenAI embeddings |

---

## üöÄ –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã)

### –§–∞–∑–∞ 1: MVP (2-3 –Ω–µ–¥–µ–ª–∏) ‚ö° *–£—Å–∫–æ—Ä–µ–Ω–æ –∑–∞ —Å—á—ë—Ç –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è sql4A*
1. ‚úÖ **–ê–¥–∞–ø—Ç–∞—Ü–∏—è FastAPI –∏–∑ sql4A** (1-2 –¥–Ω—è –≤–º–µ—Å—Ç–æ 3-5 –¥–Ω–µ–π)
   - –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É `src/api/main.py`
   - –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å endpoints –ø–æ–¥ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É
   - –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –º–æ–¥–µ–ª–∏ –∑–∞–ø—Ä–æ—Å–æ–≤/–æ—Ç–≤–µ—Ç–æ–≤
2. ‚úÖ **–ê–¥–∞–ø—Ç–∞—Ü–∏—è RAG pipeline –∏–∑ sql4A** (2-3 –¥–Ω—è –≤–º–µ—Å—Ç–æ 5-7 –¥–Ω–µ–π)
   - –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `QueryService` ‚Üí `DiagnosticService`
   - –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥ —Å—Ç–∞—Ç—å–∏ 3D-–ø–µ—á–∞—Ç–∏
   - –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
3. ‚úÖ **Qdrant setup + –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è** (2-3 –¥–Ω—è)
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Qdrant (–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å pgvector –∏–∑ sql4A)
   - –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ sql4A
   - –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
4. ‚úÖ Streamlit –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ç–µ–∫—Å—Ç–∞ (2-3 –¥–Ω—è)
5. ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Ollama (Llama –¥–ª—è –¥–∏–∞–ª–æ–≥–∞) (1-2 –¥–Ω—è)

### –§–∞–∑–∞ 2: –ú—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω–æ—Å—Ç—å (1-2 –Ω–µ–¥–µ–ª–∏)
6. ‚úÖ Vision Agent (llava —á–µ—Ä–µ–∑ Ollama)
7. ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ Streamlit
8. ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∞–Ω–∞–ª–∏–∑–∞ —Ñ–æ—Ç–æ –≤ RAG –∫–æ–Ω—Ç–µ–∫—Å—Ç

### –§–∞–∑–∞ 3: –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ (2-3 –Ω–µ–¥–µ–ª–∏)
9. ‚úÖ –î–∏–∞–ª–æ–≥–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ —Å —É—Ç–æ—á–Ω—è—é—â–∏–º–∏ –≤–æ–ø—Ä–æ—Å–∞–º–∏
10. ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
11. ‚úÖ –ò—Ç–µ—Ä–∞—Ç–∏–≤–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ (–µ—Å–ª–∏ —Ä–µ—à–µ–Ω–∏–µ –Ω–µ –ø–æ–º–æ–≥–ª–æ)

### –§–∞–∑–∞ 4: Production (2-3 –Ω–µ–¥–µ–ª–∏)
12. ‚úÖ –ü–æ–ª–Ω–∞—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è 3dtoday.ru
13. ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
14. ‚úÖ React frontend (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
15. ‚úÖ Telegram Bot (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

---

## üí° –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–æ–∏—Å–∫–∞:
- **–ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–∏—Å–∫**: –∫–æ–º–±–∏–Ω–∞—Ü–∏—è –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞ + BM25 (–∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞)
- **Re-ranking**: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å cross-encoder –¥–ª—è –ø–µ—Ä–µ—Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–æ–ø-10 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: Redis –¥–ª—è —á–∞—Å—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

### –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ:
- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å**: –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ FastAPI –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å async
- **–û—á–µ—Ä–µ–¥–∏ –∑–∞–¥–∞—á**: Celery + Redis –¥–ª—è —Ç—è–∂—ë–ª—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π (–∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è, –∞–Ω–∞–ª–∏–∑ —Ñ–æ—Ç–æ)
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: Prometheus + Grafana –¥–ª—è –º–µ—Ç—Ä–∏–∫

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:
- **Rate limiting**: –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–í–∞–ª–∏–¥–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π**: –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞, —Ñ–æ—Ä–º–∞—Ç–∞
- **API –∫–ª—é—á–∏**: –¥–ª—è Gemini API (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)

---

## ‚ùì –í–æ–ø—Ä–æ—Å—ã –¥–ª—è —É—Ç–æ—á–Ω–µ–Ω–∏—è

1. **–û–±—ä—ë–º –¥–∞–Ω–Ω—ã—Ö**: –°–∫–æ–ª—å–∫–æ —Å—Ç–∞—Ç–µ–π –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞—Ç—å? (–≤–ª–∏—è–µ—Ç –Ω–∞ –≤—ã–±–æ—Ä Qdrant vs managed —Å–µ—Ä–≤–∏—Å)
2. **–ë—é–¥–∂–µ—Ç**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω—ã–µ –º–æ–¥–µ–ª–∏ (Ollama) –∏–ª–∏ –≥–æ—Ç–æ–≤—ã –ø–ª–∞—Ç–∏—Ç—å –∑–∞ Gemini API?
3. **–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞**: –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ –∏–ª–∏ cloud?
4. **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –°–∫–æ—Ä–æ—Å—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (Streamlit) –∏–ª–∏ –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è UI (React)?

