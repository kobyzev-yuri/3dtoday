# –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å KB

–≠—Ç–∞ –ø–∞–ø–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –∑–Ω–∞–Ω–∏–π (KB).

## üìã –î–æ—Å—Ç—É–ø–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

#### `test_article_parse.py`
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä—Å–∏–Ω–≥–∞ —Å—Ç–∞—Ç–µ–π —á–µ—Ä–µ–∑ —Ä–∞–∑–ª–∏—á–Ω—ã–µ LLM –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã (GPT-4o, Gemini).

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
python3 tools/test_article_parse.py
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –¢–µ—Å—Ç–∏—Ä—É–µ—Ç –ø–∞—Ä—Å–∏–Ω–≥ —Å—Ç–∞—Ç—å–∏ —á–µ—Ä–µ–∑ OpenAI (GPT-4o) –∏ Gemini
- –°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞–∑–Ω—ã—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ JSON —Ñ–∞–π–ª—ã

#### `test_gemini3_kb_formation.py`
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π —á–µ—Ä–µ–∑ ProxyAPI Gemini 3.

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
python3 tools/test_gemini3_kb_formation.py "https://3dtoday.ru/..."
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å—Ç–∞—Ç—å—é —á–µ—Ä–µ–∑ Gemini 3 Pro
- –ò–∑–≤–ª–µ–∫–∞–µ—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (–ø—Ä–æ–±–ª–µ–º–∞, —Ä–µ—à–µ–Ω–∏—è, –ø—Ä–∏–Ω—Ç–µ—Ä—ã, –º–∞—Ç–µ—Ä–∏–∞–ª—ã)
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–∞—á–µ—Å—Ç–≤–æ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è KB

#### `check_test_results.sh`
–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
bash tools/check_test_results.sh
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ —Ñ–∞–π–ª–æ–≤ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ —Ç–µ—Å—Ç–æ–≤
- –í—ã–≤–æ–¥–∏—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ —Ç–µ—Å—Ç–∞–º

### –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã —Å KB

#### `check_kb_stats.py`
–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π.

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
python3 tools/check_kb_stats.py
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É KB —á–µ—Ä–µ–∑ API
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ Qdrant
- –í—ã–≤–æ–¥–∏—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç–∞—Ç–µ–π, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, –≤–µ–∫—Ç–æ—Ä–æ–≤

#### `view_article.py`
–ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç—å–∏ –∏–∑ KB –ø–æ ID.

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
python3 tools/view_article.py <article_id>
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ü–æ–ª—É—á–∞–µ—Ç —Å—Ç–∞—Ç—å—é –∏–∑ KB –ø–æ ID
- –í—ã–≤–æ–¥–∏—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∏ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –∫–æ–¥–∏—Ä–æ–≤–∫—É UTF-8

**–ü—Ä–∏–º–µ—Ä:**
```bash
python3 tools/view_article.py stringing_pla_ender3
```

## üîß –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

–í—Å–µ —Å–∫—Ä–∏–ø—Ç—ã —Ç—Ä–µ–±—É—é—Ç:
- –ó–∞–ø—É—â–µ–Ω–Ω—ã–π FastAPI —Å–µ—Ä–≤–µ—Ä (`http://localhost:8000`)
- –ù–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π `config.env` —Å API –∫–ª—é—á–∞–º–∏ (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤–Ω–µ—à–Ω–∏–µ LLM)

#### `test_user_ui_functionality.py`
–¢–µ—Å—Ç—ã —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (—Ç–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∞).

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Ç–µ—Å—Ç—ã
python3 tools/test_user_ui_functionality.py

# –¢–æ–ª—å–∫–æ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π
python3 tools/test_user_ui_functionality.py --scenario

# –¢–µ—Å—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
python3 tools/test_user_ui_functionality.py --context

# –¢–µ—Å—Ç –ø–æ—Ç–æ–∫–∞ —É—Ç–æ—á–Ω–µ–Ω–∏–π
python3 tools/test_user_ui_functionality.py --clarification
```

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:**
- ‚úÖ –†–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π –¥–∏–∞–ª–æ–≥–∞ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
- ‚úÖ –£—Ç–æ—á–Ω—è—é—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã –∏ –æ—Ç–≤–µ—Ç—ã –Ω–∞ –Ω–∏—Ö
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –¥–µ—Ñ–µ–∫—Ç–æ–≤ (–µ—Å–ª–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
- ‚úÖ –†–∞–±–æ—Ç—É —Å –∏—Å—Ç–æ—Ä–∏–µ–π –¥–∏–∞–ª–æ–≥–∞

**–ü—Ä–∏–º–µ—Ä—ã:**
```bash
# –ü–æ–ª–Ω—ã–π —Ç–µ—Å—Ç —Å —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–º —Å—Ü–µ–Ω–∞—Ä–∏–µ–º
python3 tools/test_user_ui_functionality.py --scenario

# –ö–æ–º–±–∏–Ω–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤
python3 tools/test_user_ui_functionality.py --scenario --context
```

#### `test_admin_ui_functionality.py`
–ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–µ —Ç–µ—Å—Ç—ã —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è KB.

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Ç–µ—Å—Ç—ã
python3 tools/test_admin_ui_functionality.py

# –¢–æ–ª—å–∫–æ —Ç–µ—Å—Ç JSON
python3 tools/test_admin_ui_functionality.py --json

# –¢–µ—Å—Ç PDF (—Ç—Ä–µ–±—É–µ—Ç—Å—è —É–∫–∞–∑–∞—Ç—å –ø—É—Ç—å)
python3 tools/test_admin_ui_functionality.py --pdf path/to/file.pdf

# –¢–µ—Å—Ç URL
python3 tools/test_admin_ui_functionality.py --url "https://3dtoday.ru/..."

# –ö–æ–º–±–∏–Ω–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤
python3 tools/test_admin_ui_functionality.py --json --url "https://3dtoday.ru/..."
```

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:**
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ JSON —Ñ–æ—Ä–º–∞—Ç–∞ —á–µ—Ä–µ–∑ `/api/kb/articles/parse`
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ PDF —Ñ–æ—Ä–º–∞—Ç–∞ —Å –∫–∞—Ä—Ç–∏–Ω–∫–∞–º–∏ —á–µ—Ä–µ–∑ `/api/kb/articles/parse`
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ URL —á–µ—Ä–µ–∑ `/api/kb/articles/parse` –∏ `/api/kb/articles/parse_with_llm`
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ê–Ω–∞–ª–∏–∑ —á–µ—Ä–µ–∑ –∞–≥–µ–Ω—Ç–∞-–±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ä—è
- ‚úÖ –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö

**–ü—Ä–∏–º–µ—Ä—ã:**
```bash
# –¢–µ—Å—Ç —Å JSON —Ñ–∞–π–ª–æ–º –∏–∑ test_data
python3 tools/test_admin_ui_functionality.py --json tools/test_data/sample_article.json

# –¢–µ—Å—Ç —Å PDF URL
python3 tools/test_admin_ui_functionality.py --pdf "https://example.com/manual.pdf"

# –¢–µ—Å—Ç —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º URL
python3 tools/test_admin_ui_functionality.py --url "https://3dtoday.ru/blogs/..."
```

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- –ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ —Ä–∞–±–æ—Ç–µ —Å KB: —Å–º. `docs/KB_MANAGEMENT.md`
- –ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏: —Å–º. –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö —Å–∫—Ä–∏–ø—Ç–∞—Ö
