# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

## üéØ –ö—Ä–∏—Ç–µ—Ä–∏–∏ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏ –¥–ª—è KB

### ‚úÖ –†–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

**–î–æ–ª–∂–Ω—ã —Å–æ–¥–µ—Ä–∂–∞—Ç—å:**
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö 3D-–ø–µ—á–∞—Ç–∏
- –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
- –£–ø–æ–º–∏–Ω–∞–Ω–∏—è –ø—Ä–∏–Ω—Ç–µ—Ä–æ–≤, –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤, –Ω–∞—Å—Ç—Ä–æ–µ–∫
- –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏ –∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏
- –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

**–ü—Ä–∏–º–µ—Ä—ã —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤:**
- "–ö–∞–∫ —É—Å—Ç—Ä–∞–Ω–∏—Ç—å stringing –Ω–∞ Ender-3?"
- "–ü—Ä–æ–±–ª–µ–º–∞ —Å warping –ø—Ä–∏ –ø–µ—á–∞—Ç–∏ PETG"
- "–ù–∞—Å—Ç—Ä–æ–π–∫–∞ retraction –¥–ª—è PLA"

### ‚ùå –ù–µ—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

**–û—Ç–∫–ª–æ–Ω—è—é—Ç—Å—è:**
- –û–±—Å—É–∂–¥–µ–Ω–∏—è –º—É–∑—ã–∫–∏, –ª–∏—á–Ω—ã—Ö –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π
- –û—Ñ—Ñ—Ç–æ–ø —Ç–µ–º—ã (–Ω–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å 3D-–ø–µ—á–∞—Ç—å—é)
- –û–±—â–∏–µ —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏—è –±–µ–∑ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –¥–µ—Ç–∞–ª–µ–π
- –í–æ–ø—Ä–æ—Å—ã –±–µ–∑ —Ä–µ—à–µ–Ω–∏–π

**–ü—Ä–∏–º–µ—Ä—ã –Ω–µ—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤:**
- "–ö–∞–∫—É—é –º—É–∑—ã–∫—É –í—ã —Å–ª—É—à–∞–µ—Ç–µ –ø—Ä–∏ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–∏?" ‚ùå
- "–ö–∞–∫–æ–π –≤–∞—à –ª—é–±–∏–º—ã–π —Ü–≤–µ—Ç?" ‚ùå
- "–ß—Ç–æ –≤—ã –¥—É–º–∞–µ—Ç–µ –æ –ø–æ–≥–æ–¥–µ?" ‚ùå

---

## üîç –ü—Ä–æ—Ü–µ—Å—Å –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏

### 1. –ê–Ω–∞–ª–∏–∑ —á–µ—Ä–µ–∑ LLM

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç LLM –¥–ª—è –æ—Ü–µ–Ω–∫–∏:
- –†–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å —Ç–µ–º–∞—Ç–∏–∫–µ (0.0-1.0)
- –ö–∞—á–µ—Å—Ç–≤–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ (0.0-1.0)
- –ù–∞–ª–∏—á–∏–µ –ø–æ–ª–µ–∑–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ "–≤–æ–¥—ã"

### 2. –ö—Ä–∏—Ç–µ—Ä–∏–∏ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ (reject):**
- `relevance_score < 0.6`
- `is_relevant == False`
- `has_valuable_info == False`
- –í–æ–ø—Ä–æ—Å—ã –Ω–µ –ø–æ —Ç–µ–º–µ (–º—É–∑—ã–∫–∞, –ª–∏—á–Ω—ã–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è)

### 3. –ü—Ä–∏–º–µ—Ä –ø—Ä–æ–≤–µ—Ä–∫–∏

**–í–æ–ø—Ä–æ—Å:** "–ö–∞–∫—É—é –º—É–∑—ã–∫—É –í—ã —Å–ª—É—à–∞–µ—Ç–µ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è –¥–µ—Ç–∞–ª–µ–π?"

**–ê–Ω–∞–ª–∏–∑:**
- ‚ùå –ù–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö –ø–µ—á–∞—Ç–∏
- ‚ùå –ù–µ—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö —Ä–µ—à–µ–Ω–∏–π
- ‚ùå –ù–µ—Ç —É–ø–æ–º–∏–Ω–∞–Ω–∏–π –ø—Ä–∏–Ω—Ç–µ—Ä–æ–≤/–º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤
- ‚ùå –û—Ñ—Ñ—Ç–æ–ø —Ç–µ–º–∞

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- `decision: "reject"`
- `relevance_score: < 0.6`
- `reason: "–î–æ–∫—É–º–µ–Ω—Ç –Ω–µ —Ä–µ–ª–µ–≤–∞–Ω—Ç–µ–Ω —Ç–µ–º–∞—Ç–∏–∫–µ KB"`

---

## üìä –ü–æ—Ä–æ–≥–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è

### –†–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å (relevance_score):
- **>= 0.7** - –æ–¥–æ–±—Ä–µ–Ω–æ (approve)
- **0.6 - 0.7** - —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (needs_review)
- **< 0.6** - –æ—Ç–∫–ª–æ–Ω–µ–Ω–æ (reject)

### –ö–∞—á–µ—Å—Ç–≤–æ (quality_score):
- **>= 0.7** - –≤—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ
- **0.6 - 0.7** - —Å—Ä–µ–¥–Ω–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ
- **< 0.6** - –Ω–∏–∑–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ

---

## ‚úÖ –ü—Ä–∏–º–µ—Ä—ã –ø—Ä–æ–≤–µ—Ä–∫–∏

### –ü—Ä–∏–º–µ—Ä 1: –†–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–π –≤–æ–ø—Ä–æ—Å ‚úÖ

**–í–æ–ø—Ä–æ—Å:** "–ö–∞–∫ —É—Å—Ç—Ä–∞–Ω–∏—Ç—å stringing –Ω–∞ Ender-3 –ø—Ä–∏ –ø–µ—á–∞—Ç–∏ PLA?"

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- `relevance_score: 0.85`
- `quality_score: 0.80`
- `decision: "approve"`
- `is_relevant: True`
- `has_valuable_info: True`

### –ü—Ä–∏–º–µ—Ä 2: –ù–µ—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–π –≤–æ–ø—Ä–æ—Å ‚ùå

**–í–æ–ø—Ä–æ—Å:** "–ö–∞–∫—É—é –º—É–∑—ã–∫—É –í—ã —Å–ª—É—à–∞–µ—Ç–µ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è?"

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- `relevance_score: 0.2`
- `quality_score: 0.3`
- `decision: "reject"`
- `is_relevant: False`
- `has_valuable_info: False`
- `issues: ["–î–æ–∫—É–º–µ–Ω—Ç –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–µ –ø—Ä–æ–±–ª–µ–º 3D-–ø–µ—á–∞—Ç–∏"]`

---

## üîß –£–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —É–ª—É—á—à–µ–Ω–Ω—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏:

1. **–Ø–≤–Ω–æ–µ —É–∫–∞–∑–∞–Ω–∏–µ —Ç–µ–º–∞—Ç–∏–∫–∏:**
   - –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º 3D-–ø–µ—á–∞—Ç–∏
   - –†–µ—à–µ–Ω–∏—è —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
   - –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

2. **–Ø–≤–Ω–æ–µ —É–∫–∞–∑–∞–Ω–∏–µ –Ω–µ—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö —Ç–µ–º:**
   - –û–±—Å—É–∂–¥–µ–Ω–∏—è –º—É–∑—ã–∫–∏
   - –õ–∏—á–Ω—ã–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è
   - –û—Ñ—Ñ—Ç–æ–ø —Ç–µ–º—ã

3. **–°—Ç—Ä–æ–≥–∏–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏:**
   - –¢—Ä–µ–±—É–µ—Ç—Å—è –Ω–∞–ª–∏—á–∏–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
   - –¢—Ä–µ–±—É—é—Ç—Å—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è
   - –û—Ç–∫–ª–æ–Ω—è—é—Ç—Å—è –æ–±—â–∏–µ –æ–±—Å—É–∂–¥–µ–Ω–∏—è

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- `backend/app/agents/kb_librarian.py` - —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏
- `docs/LIBRARIAN_DECISION.md` - —Ä–µ—à–µ–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ä—è –æ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
- `docs/KB_SECTIONS_STRUCTURE.md` - —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–∞–∑–¥–µ–ª–æ–≤ KB


