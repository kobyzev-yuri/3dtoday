# –¢–∏–ø—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –≤ KB

## üìã –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤

### 1. HTML/URL
- –°—Ç–∞—Ç—å–∏ —Å —Å–∞–π—Ç–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 3dtoday.ru)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –ø–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É

### 2. PDF
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è
- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏
- –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏
- –¢—Ä–µ–±—É–µ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫—É PyPDF2

### 3. JSON
- –ò–º–ø–æ—Ä—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –±–ª–æ–∫–æ–≤ KB
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç KB
- –ú–∞—Å—Å–æ–≤—ã–π –∏–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö

---

## üìö –¢–∏–ø—ã –∫–æ–Ω—Ç–µ–Ω—Ç–∞

### 1. article (—Ä–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º)
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –°—Ç–∞—Ç—å–∏ –æ —Ä–µ—à–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º 3D-–ø–µ—á–∞—Ç–∏

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã
- –°–∏–º–ø—Ç–æ–º—ã
- –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
- –ú–æ–¥–µ–ª–∏ –ø—Ä–∏–Ω—Ç–µ—Ä–æ–≤ –∏ –º–∞—Ç–µ—Ä–∏–∞–ª—ã

**–ü—Ä–∏–º–µ—Ä—ã:**
- "–ö–∞–∫ —É—Å—Ç—Ä–∞–Ω–∏—Ç—å stringing –Ω–∞ Ender-3"
- "–†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã warping –ø—Ä–∏ –ø–µ—á–∞—Ç–∏ PETG"
- "–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ layer separation"

**–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ:**
- `problem_type`: stringing, warping, layer_separation, etc.
- `printer_models`: ["Ender-3", "Anycubic Kobra"]
- `materials`: ["PLA", "PETG"]
- `symptoms`: ["–Ω–∏—Ç–æ—á–∫–∏", "–æ—Ç—Å–ª–æ–µ–Ω–∏–µ"]
- `solutions`: [{parameter, value, unit, description}]

---

### 2. documentation (–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è)
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–∏–Ω—Ç–µ—Ä–æ–≤, –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è, –∞–∫—Å–µ—Å—Å—É–∞—Ä–æ–≤

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏
- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏
- –ú–æ–¥–µ–ª–∏ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è

**–ü—Ä–∏–º–µ—Ä—ã:**
- "–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏ Ender-3"
- "–°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è Anycubic Kobra"
- "–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∫–∞–ª–∏–±—Ä–æ–≤–∫–µ —Å—Ç–æ–ª–∞"

**–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ:**
- `documentation_type`: instruction, specification, manual
- `equipment_models`: ["Ender-3", "Anycubic Kobra"]
- `key_specifications`: {parameter: value}
- `important_settings`: ["–Ω–∞—Å—Ç—Ä–æ–π–∫–∞1", "–Ω–∞—Å—Ç—Ä–æ–π–∫–∞2"]

---

### 3. comparison (—Å—Ä–∞–≤–Ω–µ–Ω–∏—è)
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –°—Ä–∞–≤–Ω–µ–Ω–∏—è –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤, –ø—Ä–∏–Ω—Ç–µ—Ä–æ–≤, –Ω–∞—Å—Ç—Ä–æ–µ–∫

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- –°—Ä–∞–≤–Ω–∏–≤–∞–µ–º—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
- –ö–ª—é—á–µ–≤—ã–µ –æ—Ç–ª–∏—á–∏—è
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

**–ü—Ä–∏–º–µ—Ä—ã:**
- "PLA vs PETG: —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤"
- "Ender-3 vs Anycubic Kobra: —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø—Ä–∏–Ω—Ç–µ—Ä–æ–≤"
- "–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ retraction"

**–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ:**
- `comparison_type`: materials, printers, settings, other
- `compared_items`: ["–≤–∞—Ä–∏–∞–Ω—Ç1", "–≤–∞—Ä–∏–∞–Ω—Ç2"]
- `comparison_criteria`: ["–∫—Ä–∏—Ç–µ—Ä–∏–π1", "–∫—Ä–∏—Ç–µ—Ä–∏–π2"]
- `key_differences`: {–≤–∞—Ä–∏–∞–Ω—Ç: [–æ—Ç–ª–∏—á–∏—è]}
- `recommendations`: ["—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è1"]

---

### 4. technical (—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏)
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –¥–µ—Ç–∞–ª–∏

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –∏—Ö –∑–Ω–∞—á–µ–Ω–∏—è
- –û–±–ª–∞—Å—Ç–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è
- –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

**–ü—Ä–∏–º–µ—Ä—ã:**
- "–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ PLA –º–∞—Ç–µ—Ä–∏–∞–ª–∞"
- "–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–µ—á–∞—Ç–∏ –¥–ª—è ABS"
- "–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ FDM"

**–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ:**
- `topic`: materials, technologies, parameters
- `key_characteristics`: {—Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞: –∑–Ω–∞—á–µ–Ω–∏–µ}
- `important_parameters`: ["–ø–∞—Ä–∞–º–µ—Ç—Ä1", "–ø–∞—Ä–∞–º–µ—Ç—Ä2"]
- `applications`: ["–ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ1", "–ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ2"]

---

## üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–∏–ø –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –ø–æ:
- –ó–∞–≥–æ–ª–æ–≤–∫—É –¥–æ–∫—É–º–µ–Ω—Ç–∞
- –°–æ–¥–µ—Ä–∂–∏–º–æ–º—É (–ø–µ—Ä–≤—ã–µ 500 —Å–∏–º–≤–æ–ª–æ–≤)
- –†–∞–∑–¥–µ–ª—É (section)
- –ö–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º

**–ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞:**

**documentation:**
- –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è, –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è, —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ, manual, specification

**comparison:**
- —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ, vs, versus, —Ä–∞–∑–Ω–∏—Ü–∞, –æ—Ç–ª–∏—á–∏—è, comparison

**technical:**
- —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ, —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, specs, technical

**article (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é):**
- –ø—Ä–æ–±–ª–µ–º–∞, —Ä–µ—à–µ–Ω–∏–µ, –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ, —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ, problem, fix

---

## üìù –§–æ—Ä–º–∞—Ç JSON –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞

### –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç KB:

```json
{
  "title": "–ù–∞–∑–≤–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞",
  "content": "–ü–æ–ª–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞",
  "url": "https://...",
  "section": "–¢–µ—Ö–Ω–∏—á–∫–∞",
  "date": "2024-01-01",
  "author": "–ê–≤—Ç–æ—Ä",
  "tags": ["—Ç–µ–≥1", "—Ç–µ–≥2"],
  "content_type": "article|documentation|comparison|technical",
  "problem_type": "stringing",
  "printer_models": ["Ender-3"],
  "materials": ["PLA"],
  "symptoms": ["–Ω–∏—Ç–æ—á–∫–∏"],
  "solutions": [
    {
      "parameter": "retraction_length",
      "value": 6,
      "unit": "mm",
      "description": "–£–≤–µ–ª–∏—á—å—Ç–µ retraction –¥–æ 6 –º–º"
    }
  ],
  "images": [
    {
      "url": "https://...",
      "alt": "–û–ø–∏—Å–∞–Ω–∏–µ",
      "title": "–ó–∞–≥–æ–ª–æ–≤–æ–∫"
    }
  ],
  "metadata": {
    "additional": "data"
  }
}
```

---

## üéØ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ MCP

### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç `parse_document()`:

```python
# HTML/URL
parse_document("https://3dtoday.ru/...", "html")

# PDF
parse_document("https://example.com/manual.pdf", "pdf")
parse_document("/path/to/file.pdf", "pdf")

# JSON
parse_document('{"title": "...", "content": "..."}', "json")
parse_document("/path/to/kb_article.json", "json")

# –ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ
parse_document("https://3dtoday.ru/...", "auto")
```

---

## ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

1. **–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç—å** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤
2. **–ì–∏–±–∫–æ—Å—Ç—å** - —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã –∫–æ–Ω—Ç–µ–Ω—Ç–∞
3. **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞
4. **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å** - –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —Ç–∏–ø—ã

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- `backend/app/services/document_parser.py` - —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –ø–∞—Ä—Å–µ—Ä
- `backend/app/agents/kb_librarian.py` - –∞–≥–µ–Ω—Ç-–±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ä—å —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤
- `docs/MCP_INTEGRATION.md` - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ MCP


