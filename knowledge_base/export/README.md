# –≠–∫—Å–ø–æ—Ä—Ç –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π (KB) –¥–ª—è —Ö–∞–∫–∞—Ç–æ–Ω–∞

## üì¶ –°–æ–¥–µ—Ä–∂–∏–º–æ–µ

–≠—Ç–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å–æ–¥–µ—Ä–∂–∏—Ç —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—É—é –±–∞–∑—É –∑–Ω–∞–Ω–∏–π —Å–∏—Å—Ç–µ–º—ã –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –ø—Ä–æ–±–ª–µ–º 3D-–ø–µ—á–∞—Ç–∏.

### –§–∞–π–ª—ã:

- **`articles_20251217_000422.json`** - 10 —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å—Ç–∞—Ç–µ–π –∏–∑ KB (201 KB)
- **`images_20251217_000422.json`** - 2 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–∑ KB
- **`export_metadata_20251217_000422.json`** - –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —ç–∫—Å–ø–æ—Ä—Ç–∞
- **`HACKATHON_IMPORT.md`** - üìñ **–ü–û–õ–ù–ê–Ø –ò–ù–°–¢–†–£–ö–¶–ò–Ø –î–õ–Ø –û–†–ì–ê–ù–ò–ó–ê–¢–û–†–û–í –•–ê–ö–ê–¢–û–ù–ê**

## üöÄ –ë—ã—Å—Ç—Ä—ã–π –∏–º–ø–æ—Ä—Ç KB (–¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–æ–≤)

**–°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–±:**

```bash
# 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/kobyzev-yuri/3dtoday.git
cd 3dtoday

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å Qdrant
./scripts/start_qdrant.sh

# 3. –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å KB
python scripts/import_kb.py knowledge_base/export/articles_20251217_000422.json
```

**üìñ –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:** –°–º. [HACKATHON_IMPORT.md](HACKATHON_IMPORT.md)

## üìä –¢–µ–∫—É—â–∏–π —ç–∫—Å–ø–æ—Ä—Ç

- **–î–∞—Ç–∞:** 2025-12-17
- **–°—Ç–∞—Ç–µ–π:** 10
- **–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:** 2
- **–†–∞–∑–º–µ—Ä:** ~201 KB (—Å—Ç–∞—Ç—å–∏)

## üöÄ –ò–º–ø–æ—Ä—Ç KB –Ω–∞ —Ö–∞–∫–∞—Ç–æ–Ω–µ (–¥–µ—Ç–∞–ª–∏)

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç –∏–º–ø–æ—Ä—Ç–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) ‚úÖ

```bash
# 1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ Qdrant
./scripts/start_qdrant.sh

# 2. –ò–º–ø–æ—Ä—Ç —Å—Ç–∞—Ç–µ–π
python scripts/import_kb.py knowledge_base/export/articles_20251217_000422.json

# 3. –ò–º–ø–æ—Ä—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –µ—Å–ª–∏ –µ—Å—Ç—å —Ñ–∞–π–ª –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π)
python scripts/import_kb.py knowledge_base/export/articles_20251217_000422.json knowledge_base/export/images_20251217_000422.json
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç:**
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Qdrant
- ‚úÖ –ó–∞–≥—Ä—É–∂–∞–µ—Ç –º–æ–¥–µ–ª—å —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
- ‚úÖ –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —ç–º–±–µ–¥–¥–∏–Ω–≥–∏ –¥–ª—è –≤—Å–µ—Ö —Å—Ç–∞—Ç–µ–π
- ‚úÖ –ò–Ω–¥–µ–∫—Å–∏—Ä—É–µ—Ç —Å—Ç–∞—Ç—å–∏ –≤ Qdrant
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–¥—Ä–æ–±–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏–º–ø–æ—Ä—Ç–∞

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç—Ä–µ–±—É—é—Ç –Ω–∞–ª–∏—á–∏—è —Ñ–∞–π–ª–æ–≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π. –î–ª—è –ø–æ–ª–Ω–æ–≥–æ –∏–º–ø–æ—Ä—Ç–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ API (FastAPI)

```bash
# 1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ Qdrant
./scripts/start_qdrant.sh

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ FastAPI
PYTHONPATH=. uvicorn backend.app.main:app --reload --host 0.0.0.0 --port 8000

# 3. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ —á–µ—Ä–µ–∑ API
curl -X POST http://localhost:8000/api/kb/articles/import \
  -H "Content-Type: application/json" \
  -d @knowledge_base/export/articles_20251217_000422.json
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ü—Ä—è–º–æ–π –∏–º–ø–æ—Ä—Ç –≤ Qdrant (Python)

```python
import json
from qdrant_client import QdrantClient
from qdrant_client.models import PointStruct, Distance, VectorParams
import numpy as np

# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Qdrant
client = QdrantClient(host="localhost", port=6333)

# –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ (–µ—Å–ª–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
try:
    client.create_collection(
        collection_name="kb_3dtoday",
        vectors_config=VectorParams(size=768, distance=Distance.COSINE)
    )
except Exception:
    pass  # –ö–æ–ª–ª–µ–∫—Ü–∏—è —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

# –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç–∞—Ç–µ–π
with open("knowledge_base/export/articles_20251217_000422.json", "r", encoding="utf-8") as f:
    articles = json.load(f)

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ –∏ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è
# (—Ç—Ä–µ–±—É–µ—Ç—Å—è –º–æ–¥–µ–ª—å —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤, —Å–º. backend/app/services/embedding_service.py)
```

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —ç–∫—Å–ø–æ—Ä—Ç–∞

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª `export_metadata_YYYYMMDD_HHMMSS.json` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏:
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç–∞—Ç–µ–π
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –î–∞—Ç–∞ —ç–∫—Å–ø–æ—Ä—Ç–∞
- –í–µ—Ä—Å–∏—è Qdrant

## üìã –§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö

### –°—Ç–∞—Ç—å–∏ (articles_*.json)

–ú–∞—Å—Å–∏–≤ –æ–±—ä–µ–∫—Ç–æ–≤ —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ –ø–æ–ª—è–º–∏:
- `id` - ID —Å—Ç–∞—Ç—å–∏ –≤ Qdrant
- `title` - –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç–∞—Ç—å–∏
- `content` - –ü–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç —Å—Ç–∞—Ç—å–∏
- `url` - URL –∏—Å—Ç–æ—á–Ω–∏–∫–∞
- `section` - –†–∞–∑–¥–µ–ª (–¢–µ—Ö–Ω–∏—á–∫–∞, 3D-–ø–µ—á–∞—Ç—å, –∏ —Ç.–¥.)
- `problem_type` - –¢–∏–ø –ø—Ä–æ–±–ª–µ–º—ã (stringing, warping, –∏ —Ç.–¥.)
- `printer_models` - –ú–æ–¥–µ–ª–∏ –ø—Ä–∏–Ω—Ç–µ—Ä–æ–≤ (–º–∞—Å—Å–∏–≤)
- `materials` - –ú–∞—Ç–µ—Ä–∏–∞–ª—ã (–º–∞—Å—Å–∏–≤)
- `symptoms` - –°–∏–º–ø—Ç–æ–º—ã –ø—Ä–æ–±–ª–µ–º—ã (–º–∞—Å—Å–∏–≤)
- `solutions` - –†–µ—à–µ–Ω–∏—è —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ (–º–∞—Å—Å–∏–≤ –æ–±—ä–µ–∫—Ç–æ–≤)
- `abstract` - –ö—Ä–∞—Ç–∫–æ–µ –∏–∑–ª–æ–∂–µ–Ω–∏–µ
- `relevance_score` - –û—Ü–µ–Ω–∫–∞ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏ (0.0-1.0)
- `quality_score` - –û—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ (0.0-1.0)
- `content_type` - –¢–∏–ø –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (article, documentation, –∏ —Ç.–¥.)
- `tags` - –¢–µ–≥–∏ (–º–∞—Å—Å–∏–≤)
- `date` - –î–∞—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
- `author` - –ê–≤—Ç–æ—Ä
- `images` - –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–∑ —Å—Ç–∞—Ç—å–∏ (–º–∞—Å—Å–∏–≤)

### –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (images_*.json)

–ú–∞—Å—Å–∏–≤ –æ–±—ä–µ–∫—Ç–æ–≤ —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ –ø–æ–ª—è–º–∏:
- `id` - ID –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ Qdrant
- `url` - URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- `alt` - –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Ç–µ–∫—Å—Ç
- `description` - –û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- `article_id` - ID —Å–≤—è–∑–∞–Ω–Ω–æ–π —Å—Ç–∞—Ç—å–∏
- `article_title` - –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç–∞—Ç—å–∏
- `relevance_score` - –û—Ü–µ–Ω–∫–∞ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏
- `problem_type` - –¢–∏–ø –ø—Ä–æ–±–ª–µ–º—ã
- `tags` - –¢–µ–≥–∏

## üîß –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞

1. **Qdrant** - –≤–µ–∫—Ç–æ—Ä–Ω–∞—è –ë–î (–∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker –∏–ª–∏ –ª–æ–∫–∞–ª—å–Ω–æ)
2. **FastAPI** - API —Å–µ—Ä–≤–µ—Ä (–¥–ª—è –∏–º–ø–æ—Ä—Ç–∞ —á–µ—Ä–µ–∑ API)
3. **–ú–æ–¥–µ–ª—å —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤** - –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –≤–µ–∫—Ç–æ—Ä–Ω—ã—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π —Ç–µ–∫—Å—Ç–∞
   - –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: `multilingual-e5-base` (768 dim)
   - –î–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π: OpenCLIP ViT-B-16 (512 dim)

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∏–º–ø–æ—Ä—Ç—É:** `docs/KB_BACKUP_AND_RESTORE.md`
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ KB:** `docs/KB_MANAGEMENT.md`
- **–°–æ–∑–¥–∞–Ω–∏–µ KB —Å –Ω—É–ª—è:** `docs/KB_CREATION_FROM_SCRATCH.md`

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

- –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã —Å–æ–¥–µ—Ä–∂–∞—Ç —Ç–æ–ª—å–∫–æ –¥–∞–Ω–Ω—ã–µ (payload), –±–µ–∑ –≤–µ–∫—Ç–æ—Ä–æ–≤
- –î–ª—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ –≤ Qdrant –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞–Ω–æ–≤–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —ç–º–±–µ–¥–¥–∏–Ω–≥–∏
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç—É –∂–µ –º–æ–¥–µ–ª—å —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤, —á—Ç–æ –∏ –ø—Ä–∏ —ç–∫—Å–ø–æ—Ä—Ç–µ (–∏–ª–∏ —Å–æ–≤–º–µ—Å—Ç–∏–º—É—é)


