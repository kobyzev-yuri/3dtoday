# ============================================
# Пример конфигурации для проекта 3dtoday
# Скопируйте этот файл в config.env и заполните значения
# ============================================

# LLM Provider Configuration
# Выбор провайдера: 'openai' (ProxyAPI), 'ollama', 'gemini'
LLM_PROVIDER=ollama

# OpenAI/ProxyAPI Configuration
# Используйте тот же ключ, что и в ../sql4A/config.env
OPENAI_API_KEY=your_proxyapi_key_here
OPENAI_BASE_URL=https://api.proxyapi.ru/openai/v1
OPENAI_MODEL=gpt-4o
OPENAI_TEMPERATURE=0.2
OPENAI_TIMEOUT=60

# Gemini Configuration (через ProxyAPI.ru)
# Используется для анализа изображений как fallback
GEMINI_API_KEY=your_proxyapi_key_here
GEMINI_BASE_URL=https://api.proxyapi.ru/google
GEMINI_MODEL=gemini-3-pro-preview
GEMINI_TEMPERATURE=0.2

# Ollama Configuration
# Локальные модели для диагностики и анализа изображений
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=llama3.1:70b
OLLAMA_TEMPERATURE=0.2
OLLAMA_TIMEOUT=500

# Ollama Vision Model (для анализа изображений дефектов)
OLLAMA_VISION_MODEL=llava
OLLAMA_VISION_TIMEOUT=300

# Vector Database Configuration
# Qdrant (рекомендуется) или pgvector (если используется PostgreSQL)
VECTOR_DB_TYPE=qdrant
QDRANT_HOST=localhost
QDRANT_PORT=6333
QDRANT_COLLECTION=kb_3dtoday

# PostgreSQL Configuration (если используется pgvector вместо Qdrant)
DATABASE_URL=postgresql://postgres:password@localhost:5432/dbname
VECTOR_TABLE=vanna_vectors

# Embedding Model Configuration
HF_MODEL_NAME=intfloat/multilingual-e5-base
EMBEDDING_DIMENSION=768

# OpenCLIP Configuration (для мультимодальных эмбеддингов изображений)
OPENCLIP_MODEL=ViT-B-16
OPENCLIP_PRETRAINED=openai

# Chunking Configuration
CHUNK_SIZE_ARTICLE=3000
CHUNK_SIZE_DOCUMENTATION=3000
CHUNK_SIZE_DIAGNOSTIC_EXAMPLE=1000
CHUNK_OVERLAP_ARTICLE=300
CHUNK_OVERLAP_DOCUMENTATION=300
CHUNK_OVERLAP_DIAGNOSTIC_EXAMPLE=0
CHUNK_USE_SMART_BOUNDARIES=true

# Knowledge Base Configuration
KB_DATA_DIR=data/knowledge_base
KB_ARTICLES_DIR=data/knowledge_base/articles
KB_EXAMPLES_DIR=data/knowledge_base/examples
KB_IMAGES_DIR=data/knowledge_base/images

# RAG Configuration
RAG_TOP_K=5
RAG_SIMILARITY_THRESHOLD=0.7
RAG_USE_MULTIMODAL=true

# Diagnostic Agent Configuration
DIAGNOSTIC_MAX_ITERATIONS=5
DIAGNOSTIC_CONFIDENCE_THRESHOLD=0.8

# Vision Agent Configuration
VISION_PRIMARY_MODEL=ollama_llava
VISION_FALLBACK_MODEL=gemini_proxyapi
VISION_CONFIDENCE_THRESHOLD=0.7

# Logging Configuration
LOG_LEVEL=INFO
LOG_DIR=logs

# API Configuration
API_HOST=0.0.0.0
API_PORT=8000
API_RELOAD=true

# Frontend Configuration
STREAMLIT_PORT=8501
STREAMLIT_HOST=0.0.0.0

