# ============================================
# Пример конфигурации для проекта 3dtoday
# Скопируйте этот файл в config.env и заполните значения
# ============================================

# LLM Provider Configuration
# Выбор провайдера: 'openai' (ProxyAPI), 'ollama', 'gemini'
LLM_PROVIDER=ollama

# OpenAI/ProxyAPI Configuration
# Используйте тот же ключ, что и в ../sql4A/config.env
OPENAI_API_KEY=your_proxyapi_key_here
OPENAI_BASE_URL=https://api.proxyapi.ru/openai/v1
OPENAI_MODEL=gpt-4o
OPENAI_TEMPERATURE=0.2
OPENAI_TIMEOUT=600

# Gemini Configuration (через ProxyAPI.ru)
# Используется для анализа изображений как fallback
GEMINI_API_KEY=your_proxyapi_key_here
GEMINI_BASE_URL=https://api.proxyapi.ru/google
GEMINI_MODEL=gemini-3-pro-preview
GEMINI_TEMPERATURE=0.2
GEMINI_TIMEOUT=600

# Ollama Configuration
# Локальные модели для диагностики и анализа изображений
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_TEMPERATURE=0.2

# Модели Ollama: легкая и тяжелая
# Легкая модель (быстрая, для обычных запросов)
OLLAMA_MODEL_LIGHT=qwen2.5:1.5b
OLLAMA_TIMEOUT_LIGHT=100

# Тяжелая модель (медленная, но более качественная)
OLLAMA_MODEL_HEAVY=qwen3:8b
OLLAMA_TIMEOUT_HEAVY=900

# Модель по умолчанию (используется если не указана явно)
OLLAMA_MODEL=qwen2.5:1.5b
OLLAMA_TIMEOUT=100

# Ollama Vision Model (для анализа изображений дефектов)
OLLAMA_VISION_MODEL=llava
OLLAMA_VISION_TIMEOUT=600

# Vector Database Configuration
# Qdrant (рекомендуется) или pgvector (если используется PostgreSQL)
VECTOR_DB_TYPE=qdrant
QDRANT_HOST=localhost
QDRANT_PORT=6333
QDRANT_COLLECTION=kb_3dtoday

# PostgreSQL Configuration (если используется pgvector вместо Qdrant)
DATABASE_URL=postgresql://postgres:password@localhost:5432/dbname
VECTOR_TABLE=vanna_vectors

# Embedding Model Configuration
HF_MODEL_NAME=intfloat/multilingual-e5-base
EMBEDDING_DIMENSION=768

# OpenCLIP Configuration (для мультимодальных эмбеддингов изображений)
OPENCLIP_MODEL=ViT-B-16
OPENCLIP_PRETRAINED=openai
IMAGE_EMBEDDING_DIMENSION=512
QDRANT_IMAGE_COLLECTION=kb_3dtoday_images

# Chunking Configuration
CHUNK_SIZE_ARTICLE=3000
CHUNK_SIZE_DOCUMENTATION=3000
CHUNK_SIZE_DIAGNOSTIC_EXAMPLE=1000
CHUNK_OVERLAP_ARTICLE=300
CHUNK_OVERLAP_DOCUMENTATION=300
CHUNK_OVERLAP_DIAGNOSTIC_EXAMPLE=0
CHUNK_USE_SMART_BOUNDARIES=true

# Knowledge Base Configuration
KB_DATA_DIR=data/knowledge_base
KB_ARTICLES_DIR=data/knowledge_base/articles
KB_EXAMPLES_DIR=data/knowledge_base/examples
KB_IMAGES_DIR=data/knowledge_base/images

# RAG Configuration
RAG_TOP_K=5
RAG_SIMILARITY_THRESHOLD=0.7
RAG_USE_MULTIMODAL=true

# Diagnostic Agent Configuration
DIAGNOSTIC_MAX_ITERATIONS=5
DIAGNOSTIC_CONFIDENCE_THRESHOLD=0.8

# Vision Agent Configuration
VISION_PRIMARY_MODEL=ollama_llava
VISION_FALLBACK_MODEL=gemini_proxyapi
VISION_CONFIDENCE_THRESHOLD=0.7

# Logging Configuration
LOG_LEVEL=INFO
LOG_DIR=logs

# API Configuration
API_HOST=0.0.0.0
API_PORT=8000
API_RELOAD=true

# Frontend Configuration
STREAMLIT_PORT=8501
STREAMLIT_HOST=0.0.0.0

# Timeout Configuration (в секундах)
# Таймауты для различных операций
HTTP_TIMEOUT=30
PARSER_TIMEOUT=30
ARTICLE_PARSER_TIMEOUT=30
QUESTIONS_PARSER_TIMEOUT=30
DOCUMENT_PARSER_TIMEOUT=30
MCP_SERVER_TIMEOUT=300
API_REQUEST_TIMEOUT=300
DIAGNOSTIC_TIMEOUT=300
RAG_SEARCH_TIMEOUT=30
HEALTH_CHECK_TIMEOUT=10

